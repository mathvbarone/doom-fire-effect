{"version":3,"sources":["src/index.js"],"names":["init","firePixelsArray","fireWidth","fireHeight","fireColorsPalette","start","createFireDataStructure","createFireSource","renderFire","setInterval","calculateFirePropagation","numberOfPixels","i","column","row","pixelIndex","updateFireIntensityPerPixel","currentPixelIndex","belowPixelIndex","decay","Math","floor","random","belowPixelFireIntensity","newFireIntensity","debug","html","fireIntensity","color","colorString","r","g","b","document","querySelector","innerHTML","overflowPixelIndex"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["const init = () => {\r\n    const firePixelsArray = [];\r\n    const fireWidth = 70;\r\n    const fireHeight = 70;\r\n    const fireColorsPalette = [{ \"r\": 7, \"g\": 7, \"b\": 7 }, { \"r\": 31, \"g\": 7, \"b\": 7 }, { \"r\": 47, \"g\": 15, \"b\": 7 }, { \"r\": 71, \"g\": 15, \"b\": 7 }, { \"r\": 87, \"g\": 23, \"b\": 7 }, { \"r\": 103, \"g\": 31, \"b\": 7 }, { \"r\": 119, \"g\": 31, \"b\": 7 }, { \"r\": 143, \"g\": 39, \"b\": 7 }, { \"r\": 159, \"g\": 47, \"b\": 7 }, { \"r\": 175, \"g\": 63, \"b\": 7 }, { \"r\": 191, \"g\": 71, \"b\": 7 }, { \"r\": 199, \"g\": 71, \"b\": 7 }, { \"r\": 223, \"g\": 79, \"b\": 7 }, { \"r\": 223, \"g\": 87, \"b\": 7 }, { \"r\": 223, \"g\": 87, \"b\": 7 }, { \"r\": 215, \"g\": 95, \"b\": 7 }, { \"r\": 215, \"g\": 95, \"b\": 7 }, { \"r\": 215, \"g\": 103, \"b\": 15 }, { \"r\": 207, \"g\": 111, \"b\": 15 }, { \"r\": 207, \"g\": 119, \"b\": 15 }, { \"r\": 207, \"g\": 127, \"b\": 15 }, { \"r\": 207, \"g\": 135, \"b\": 23 }, { \"r\": 199, \"g\": 135, \"b\": 23 }, { \"r\": 199, \"g\": 143, \"b\": 23 }, { \"r\": 199, \"g\": 151, \"b\": 31 }, { \"r\": 191, \"g\": 159, \"b\": 31 }, { \"r\": 191, \"g\": 159, \"b\": 31 }, { \"r\": 191, \"g\": 167, \"b\": 39 }, { \"r\": 191, \"g\": 167, \"b\": 39 }, { \"r\": 191, \"g\": 175, \"b\": 47 }, { \"r\": 183, \"g\": 175, \"b\": 47 }, { \"r\": 183, \"g\": 183, \"b\": 47 }, { \"r\": 183, \"g\": 183, \"b\": 55 }, { \"r\": 207, \"g\": 207, \"b\": 111 }, { \"r\": 223, \"g\": 223, \"b\": 159 }, { \"r\": 239, \"g\": 239, \"b\": 199 }, { \"r\": 255, \"g\": 255, \"b\": 255 }]\r\n\r\n\r\n    const start = () => {\r\n        createFireDataStructure();\r\n        createFireSource();\r\n        renderFire();\r\n\r\n        setInterval(calculateFirePropagation, 10);\r\n    }\r\n\r\n    const createFireDataStructure = () => {\r\n        const numberOfPixels = fireWidth * fireHeight;\r\n        for (let i = 0; i < numberOfPixels; i++) {\r\n            firePixelsArray[i] = 0;\r\n        }\r\n    }\r\n\r\n    const calculateFirePropagation = () => {\r\n        for (let column = 0; column < fireWidth; column++) {\r\n            for (let row = 0; row < fireHeight; row++) {\r\n                const pixelIndex = column + (fireWidth * row);\r\n\r\n                updateFireIntensityPerPixel(pixelIndex);\r\n            }\r\n        }\r\n        renderFire();\r\n    }\r\n\r\n    const updateFireIntensityPerPixel = currentPixelIndex => {\r\n        const belowPixelIndex = currentPixelIndex + fireWidth;\r\n\r\n        if (belowPixelIndex >= fireWidth * fireHeight) return;\r\n\r\n        const decay = Math.floor(Math.random() * 3);\r\n        const belowPixelFireIntensity = firePixelsArray[belowPixelIndex];\r\n        const newFireIntensity =\r\n            belowPixelFireIntensity - decay >= 0 ? belowPixelFireIntensity - decay : 0;\r\n\r\n        firePixelsArray[currentPixelIndex - decay] = newFireIntensity;\r\n\r\n    }\r\n\r\n\r\n    const renderFire = () => {\r\n        const debug = false;\r\n        let html = '<table class=\"fireTable\" cellpadding=0 callspacing=0>'\r\n        for (let row = 0; row < fireHeight; row++) {\r\n            html += '<tr>';\r\n\r\n            for (let column = 0; column < fireWidth; column++) {\r\n                const pixelIndex = column + (fireWidth * row)\r\n                const fireIntensity = firePixelsArray[pixelIndex]\r\n\r\n                if (debug === true) {\r\n                    html += '<td>';\r\n                    html += `<div class=\"pixel-index\">${pixelIndex}</div>`;\r\n                    html += fireIntensity;\r\n                    html += '</td>';\r\n                } else {\r\n                    const color = fireColorsPalette[fireIntensity];\r\n                    const colorString = `${color.r},${color.g},${color.b}`;\r\n                    html += `<td class=\"pixel\" style=\"background-color: rgb(${colorString})\"`;\r\n                    html += '</td>';\r\n                }\r\n            }\r\n\r\n            html += '</tr>';\r\n\r\n        }\r\n\r\n        html += '</table>'\r\n\r\n        document.querySelector('#fireCanvas').innerHTML = html;\r\n    }\r\n\r\n    const createFireSource = () => {\r\n        for (let column = 0; column <= fireWidth; column++) {\r\n            const overflowPixelIndex = fireWidth * fireHeight;\r\n            const pixelIndex = (overflowPixelIndex - fireWidth) + column;\r\n            firePixelsArray[pixelIndex] = 36;\r\n        }\r\n    }\r\n\r\n    start();\r\n}\r\n\r\ninit();\r\n\r\n\r\n"]}